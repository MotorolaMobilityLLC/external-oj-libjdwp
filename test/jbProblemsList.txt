###########################################################################
#
# List of tests that should not be run by test/Makefile, for various reasons:
#   1. Does not run with jtreg -samevm mode
#   2. Causes problems in jtreg -samevm mode for jtreg or tests that follow it
#   3. The test is too slow or consumes too many system resources
#   4. The test fails when run on any official build systems
#
# It is possible that a test being on this list is a mistake, and that some
#   other test in samevm mode caused tests to fail, mistakes happen.
#
# Tests marked @ignore are not run by test/Makefile, but harmless to be listed.
#
# Tests that explicitly state "@run main/othervm ...", and are not listed here,
#   will be run in the same batch as the samevm tests.
#
# Shell tests are othervm by default.
#
# List items  are testnames followed by labels, all MUST BE commented
#   as to why they are here and use a label:
#     generic-all   Problems on all platforms
#     generic-ARCH  Where ARCH is one of: sparc, sparcv9, x64, i586, etc.
#     OSNAME-all    Where OSNAME is one of: solaris, linux, windows, macosx, aix
#     OSNAME-ARCH   Specific on to one OSNAME and ARCH, e.g. solaris-amd64
#     OSNAME-REV    Specific on to one OSNAME and REV, e.g. solaris-5.8
#
# More than one label is allowed but must be on the same line.
#
#############################################################################
#
# Running the tests:
#    cd test && make JT_HOME=jtreg_home PRODUCT_HOME=jdk_home jdk_all
#  Or instead of jdk_all, use any of the jdk_* targets.
#
# Samevm Notes:
#  * Although some tests may have only been seen to fail on some platforms,
#    they might be flagged as 'generic-all' because the problem they have
#    could cause hidden slowdowns on other platforms.
#    Most samevm problems will be generic-all, but windows usually dislikes
#    them the most.
#    Address already in use or connection errors indicate a generic port issue.
#    (this is not necessarily a samevm issue, but an issue for running the tests
#     on shared machines, two people or two test runs will collide).
#  * Samevm problem (windows in particular) is not closing all input/output
#  * Samevm problem when a test calls setSecurityManager()
#  * Samevm problem with setHttps*() is used? (not exactly sure here)
#  * Samevm problem when stuffing system properties with non Strings or anything
#  * Samevm problem when changing vm settings, or registering any vm actions
#  * Samevm problems with deleteOnExit(), if it must happen at end of test
#  * Samevm problems with URLClassLoader? (no details here)
#  * Samevm problems with dependence on predictable GC or finalizations
#
# Any of the above problems may mean the test needs to be flagged as "othervm".
#
#############################################################################
#
# Fixing the tests:
#
# Some tests just may need to be run with "othervm", and that can easily be
#   done my adding a @run line (or modifying any existing @run):
#      @run main/othervm NameOfMainClass
#   Make sure this @run follows any use of @library.
#   Otherwise, if the test is a samevm possibility, make sure the test is
#     cleaning up after itself, closing all streams, deleting temp files, etc.
#
# Keep in mind that the bug could be in many places, and even different per
#   platform, it could be a bug in any one of:
#      - the testcase
#      - the jdk (jdk classes, native code, or hotspot)
#      - the native compiler
#      - the javac compiler
#      - the OS (depends on what the testcase does)
#
# If you managed to really fix one of these tests, here is how you can
#    remove tests from this list:
#  1. Make sure test passes on all platforms with samevm, or mark it othervm
#  2. Make sure test passes on all platforms when run with it's entire group
#  3. Make sure both VMs are tested, -server and -client, if possible
#  4. Make sure you try the -d64 option on Solaris
#  5. Use a tool like JPRT or something to verify these results
#  6. Delete lines in this file, include the changes with your test changes
#
# You may need to repeat your testing 2 or even 3 times to verify good
#   results, some of these samevm failures are not very predictable.
#
#############################################################################

############################################################################

# jdk_awt

# https://bugs.openjdk.java.net/browse/JDK-6990210
java/awt/EventDispatchThread/HandleExceptionOnEDT/HandleExceptionOnEDT.java.HandleExceptionOnEDT generic-all

# https://bugs.openjdk.java.net/browse/JDK-4931413
java/awt/EventDispatchThread/LoopRobustness/LoopRobustness.html      linux-all

# similar to
# http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6848406
java/awt/Focus/AutoRequestFocusTest/AutoRequestFocusToFrontTest.java generic-all

# similar to
# https://bugs.openjdk.java.net/browse/JDK-7191928
java/awt/Focus/ConsumeNextKeyTypedOnModalShowTest/ConsumeNextKeyTypedOnModalShowTest.java windows-all

# https://bugs.openjdk.java.net/browse/JDK-7156130 (open)
java/awt/Focus/ToFrontFocusTest/ToFrontFocus.html                    windows-all

# https://bugs.openjdk.java.net/browse/JDK-8001214                   generic-all
java/awt/Frame/MaximizedToIconified/MaximizedToIconified.java

# https://bugs.openjdk.java.net/browse/JDK-8129775
java/awt/Mouse/MouseDragEvent/MouseDraggedTest.java                  linux-all

# https://bugs.openjdk.java.net/browse/JDK-8148041
java/awt/Mouse/TitleBarDoubleClick/TitleBarDoubleClick.html          linux-all

# https://bugs.openjdk.java.net/browse/JDK-6829267
java/awt/Toolkit/ToolkitPropertyTest/ToolkitPropertyTest_Enable.java linux-all

# http://bugs.java.com/view_bug.do?bug_id=8039081
java/awt/TrayIcon/PopupMenuLeakTest/PopupMenuLeakTest.java           generic-all

# https://bugs.openjdk.java.net/browse/JDK-7107528
java/awt/Robot/AcceptExtraMouseButtons/AcceptExtraMouseButtons.java  generic-all

# https://bugs.openjdk.java.net/browse/JDK-8080982
java/awt/datatransfer/DragImage/MultiResolutionDragImageTest.java    linux-all windows-all

# https://bugs.openjdk.java.net/browse/JDK-8039082
java/awt/dnd/BadSerializaionTest/BadSerializationTest.java           generic-all

# https://bugs.openjdk.java.net/browse/JDK-7098447
java/awt/dnd/ImageTransferTest/ImageTransferTest.java                generic-all

# https://bugs.openjdk.java.net/browse/JDK-8030121
java/awt/dnd/MissingDragExitEventTest/MissingDragExitEventTest.java  linux-all

# https://bugs.openjdk.java.net/browse/JDK-8056077
java/awt/image/DrawImage/IncorrectAlphaSurface2SW.java               linux-all

# https://bugs.openjdk.java.net/browse/JDK-8130400
java/awt/image/DrawImage/IncorrectClipXorModeSW2Surface.java         linux-all
java/awt/image/DrawImage/IncorrectClipXorModeSurface2Surface.java    linux-all

############################################################################

# jdk_sound

## https://bugs.openjdk.java.net/browse/JDK-8134632 (fixed in jdk9)
javax/sound/midi/Devices/InitializationHang.java                     linux-all

############################################################################

# jdk_beans

# https://bugs.openjdk.java.net/browse/JDK-8030123
java/beans/Introspector/Test8027648.java                             linux-all

############################################################################

# jdk_io

# Test ignored: This test has huge memory requirements
java/io/ByteArrayOutputStream/MaxCapacity.java                       generic-all

# Test ignored: until 6492634 and 6501010 is fixed
# http://bugs.java.com/view_bug.do?bug_id=6492634
# http://bugs.java.com/view_bug.do?bug_id=6501010
java/io/File/GetXSpace.java                                          generic-all

# Test ignored: Test truncates system files when run as root, see 7042603
# http://bugs.java.com/view_bug.do?bug_id=7042603
java/io/IOException/LastErrorString.java                             generic-all

# Test ignored: This test requires console (/dev/tty) input, which is not supported by the current harness
java/io/SystemInAvailable.java                                       generic-all

############################################################################

# jdk_lang

# Test ignored: until bug 6835233 dealt with
# http://bugs.java.com/view_bug.do?bug_id=6835233
java/lang/instrument/ParallelTransformerLoader.sh                    generic-all

# Test ignored: 8078602
# http://bugs.java.com/view_bug.do?bug_id=8078602
java/lang/invoke/LFCaching/LFGarbageCollectedTest.java               generic-all

############################################################################

# jdk_management

# 8028150
sun/management/jmxremote/bootstrap/RmiSslBootstrapTest.sh	windows-all

############################################################################

# jdk_jmx

# 8030957
com/sun/management/OperatingSystemMXBean/GetProcessCpuLoad.java aix-all
com/sun/management/OperatingSystemMXBean/GetSystemCpuLoad.java  aix-all
javax/management/MBeanServer/OldMBeanServerTest.java            aix-all

############################################################################

# jdk_math

############################################################################

# jdk_other

# 6988950
demo/jvmti/compiledMethodLoad/CompiledMethodLoadTest.java	generic-all

# 7027502
demo/jvmti/hprof/MonitorTest.java                               generic-all

# 8027973
javax/xml/jaxp/transform/jdk8004476/XSLTExFuncTest.java		windows-all

# no printer found
javax/print/CheckDupFlavor.java                                      generic-all
javax/print/PrintServiceLookup/CountPrintServices.java               generic-all
javax/print/attribute/AttributeTest.java                             generic-all
javax/print/attribute/GetCopiesSupported.java                        generic-all
javax/print/attribute/SidesPageRangesTest.java                       generic-all
javax/print/attribute/SupportedPrintableAreas.java                   generic-all

############################################################################

# jdk_net

# Filed 7052625
com/sun/net/httpserver/bugs/6725892/Test.java                   generic-all

# failing on vista 32/64 on nightly
# 7102702
java/net/PortUnreachableException/OneExceptionOnly.java         windows-all

# 7148829
sun/net/InetAddress/nameservice/simple/CacheTest.java		generic-all
sun/net/InetAddress/nameservice/simple/DefaultCaching.java	generic-all

# 7122846
java/net/MulticastSocket/NoLoopbackPackets.java                  macosx-all
java/net/MulticastSocket/SetLoopbackMode.java                    macosx-all

# 7145658
java/net/MulticastSocket/Test.java                               macosx-all

# 7143960
java/net/DatagramSocket/SendDatagramToBadAddress.java            macosx-all

############################################################################

# jdk_nio

# 6963118
java/nio/channels/Selector/Wakeup.java                          windows-all

# 7141822
java/nio/channels/DatagramChannel/ChangingAddress.java          macosx-all

# 7132677
java/nio/channels/Selector/OutOfBand.java                       macosx-all

# 7158947, Solaris 11
java/nio/file/WatchService/Basic.java				solaris-all
java/nio/file/WatchService/LotsOfEvents.java			solaris-all

############################################################################

# jdk_rmi

# 7140992
java/rmi/server/Unreferenced/finiteGCLatency/FiniteGCLatency.java  generic-all

# 7146541
java/rmi/transport/rapidExportUnexport/RapidExportUnexport.java	linux-all

# 7191877
java/rmi/transport/checkLeaseInfoLeak/CheckLeaseLeak.java       generic-all

# 7195095
sun/rmi/transport/proxy/EagerHttpFallback.java                  generic-all

############################################################################

# jdk_security

# Test ignored: Must set up KDC and setup Kerberos configuration file
javax/security/auth/kerberos/KerberosHashEqualsTest.java             generic-all
javax/security/auth/kerberos/KerberosTixDateTest.java                generic-all

# Test ignored: run these by hand
com/sun/security/auth/callback/TextCallbackHandler/Password.java     generic-all
com/sun/security/auth/callback/TextCallbackHandler/Default.java      generic-all

# Test ignored: see runwjaas.csh for instructions for how to run this test
com/sun/security/sasl/gsskerb/NoSecurityLayer.java              generic-all
com/sun/security/sasl/gsskerb/ConfSecurityLayer.java            generic-all
com/sun/security/sasl/gsskerb/AuthOnly.java                     generic-all

# 7157786
sun/security/pkcs11/ec/TestKeyFactory.java                      generic-all

# 7164518: no PortUnreachableException on Mac
sun/security/krb5/auto/Unreachable.java                         macosx-all

# 7147060
com/sun/org/apache/xml/internal/security/transforms/ClassLoaderTest.java	generic-all

# 6988842: 4 tests failing on Solaris 5.10
sun/security/pkcs11/Secmod/AddPrivateKey.java                   solaris-all
sun/security/pkcs11/ec/ReadCertificates.java                    solaris-all
sun/security/pkcs11/ec/ReadPKCS12.java                          solaris-all
sun/security/pkcs11/sslecc/ClientJSSEServerJSSE.java            solaris-all

# 7041639, Solaris DSA keypair generation bug
java/security/KeyPairGenerator/SolarisShortDSA.java             solaris-all
sun/security/tools/keytool/standard.sh                          solaris-all

# 8026393
sun/security/tools/jarsigner/warnings/BadKeyUsageTest.java      generic-all

# 8158827
sun/security/krb5/auto/tools/KinitConfPlusProps.java                       windows-all

############################################################################

# jdk_swing

# https://bugs.openjdk.java.net/browse/JDK-6962725
javax/swing/JFileChooser/6738668/bug6738668.java                     generic-all

# https://bugs.openjdk.java.net/browse/JDK-8016746
javax/swing/JTable/7068740/bug7068740.java                           generic-all

# https://bugs.openjdk.java.net/browse/JDK-4847025
javax/swing/JTextArea/4697612/bug4697612.java                        linux-all

############################################################################

# jdk_text

############################################################################

# jdk_time

############################################################################

# jdk_tools

# Tests take too long, on sparcs see 7143279
tools/pack200/CommandLineTests.java                             solaris-all, macosx-all
tools/pack200/Pack200Test.java                                  solaris-all, macosx-all

# 8007410
tools/launcher/FXLauncherTest.java                              linux-all

############################################################################

# jdk_jdi

############################################################################

# jdk_util

# Filed 6772009
java/util/concurrent/locks/ReentrantLock/CancelledLockLoops.java generic-all

# Test ignored: Bug fix temporarily removed as it uncovered other bugs (4992226)
java/util/AbstractList/CheckForComodification.java                   generic-all

# Test ignored: until 6842022 is resolved
java/util/ResourceBundle/RestrictedBundleTest.java                   generic-all

#Test ignored: 6876961
java/util/ResourceBundle/Test4300693.java                            generic-all

Test ignored: until 6842353 is resolved
java/util/WeakHashMap/GCDuringIteration.java                         generic-all

# Test ignored: runs for hours and eats up 7 Gigabytes of disk space
java/util/zip/3GBZipFiles.sh                                         generic-all

############################################################################

# svc_tools

# 8031482
sun/tools/jcmd/TestJcmdSanity.java				windows-all

# 6456333
sun/tools/jps/TestJpsJarRelative.java				generic-all

############################################################################
